<h1>API для онлайн-кинотеатра</h1>
<hr>
<p>API позволяет получать информацию о фильмах, жанрах и персонах - по одному или списком, с применением сортировки и поиском. Используется 
фреймворк FastAPI, база данных с фильмами ElasticSearch, СУБД Redis для 
кеширования данных, сервер uvicorn.</p>
<h2>Структура приложения</h2>
<ul>
    <li>src - содержит исходный код приложения.</li>
    <li>main.py - входная точка приложения.</li>
    <li>api - модуль, в котором реализуется API. Другими словами, это 
модуль для предоставления http-интерфейса клиентским приложениям. 
Внутри модуля отсутствует какая-либо бизнес-логика, так как она не должна быть 
завязана на HTTP.</li>
    <li>core - содержит различные конфигурационные файлы.</li>
    <li>db - предоставляет объекты баз данных (Redis, Elasticsearch) и 
провайдеры для внедрения зависимостей. Redis будет использоваться для кеширования, 
чтобы не нагружать лишний раз Elasticsearch.</li>
    <li>models - содержит классы, описывающие бизнес-сущности.</li>
    <li>services - главное в сервисе. В этом модуле находится реализация всей 
бизнес-логики.</li>
</ul>

<h2>Примеры запросов</h2>
<p><code>/api/v1/films/{film_id}</code> - запрос подробной информации о кинопроизведении.
<code>{film_id}</code> - идентификатор кинопроизведения</p>
<p><code>/api/v1/films?sort=-imdb_rating&size=50&page=1</code> - запрос 
подробной информации о кинопроизведениях с пагинацией результата запроса.
Пагинация настраивается двумя параметрами - <code>size</code> и 
<code>page</code>.</p> <p><code>size</code> - количество фильмов на 
одной странице.</p> 
<p><code>page_number</code> - номер запрашиваемой страницы.</p>
<p>Сортировка возможна по полю <code>imdb_rating</code>.
Если указан <code>-</code> в начале поля, например <code>-imdb_rating</code>, то
сортировка будет производиться по убыванию.</p>
<p>Фильтрация данных возможна по следующим полям: <code>film_id</code>, <code>genre</code>, 
<code>actor_id</code>, <code>writer_id</code></p>
<p><code>/api/v1/genres/get/{genre_id}</code> - запрос подробной информации о жанре.
<code>{genre_id}</code> - идентификатор жанра</p>
<p><code>/api/v1/persons/get/{person_id}</code> - запрос подробной информации о персоне.
<code>{person_id}</code> - идентификатор персоны</p>
<p><code>/api/v1/genres/search?query=a&page=1&size=40</code>- поиск по жанрам. <code>query</code> - поисковой запрос.
<code>{page}</code> - номер страницы.
<code>{size}</code> - размерность страницы.</p>
<p><code>/api/v1/persons/search?query=a&page=1&size=40</code>- поиск по персонам. <code>query</code> - поисковой запрос.
<code>{page}</code> - номер страницы.
<code>{size}</code> - размерность страницы.</p>
<p><code>/api/v1/genres/?sort=desc&page=1&size=40</code>- запрос списка жанров с сортировкой. 
<code>sort</code> - порядок сортировки <code>asc|decs</code>.
<code>{page}</code> - номер страницы.
<code>{size}</code> - размерность страницы.</p>
<p><code>/api/v1/persons/?sort=asc&page=1&size=40</code>- запрос списка персон с сортировкой. 
<code>sort</code> - порядок сортировки <code>asc|decs</code>.
<code>{page}</code> - номер страницы.
<code>{size}</code> - размерность страницы.</p>

